generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Project {
  id                 String              @id @default(uuid())
  vercelId           String?             @unique @map("vercel_id")
  name               String
  description        String?
  url                String?
  imageUrl           String?             @map("image_url")
  framework          String?
  createdAt          DateTime            @default(now()) @map("created_at")
  updatedAt          DateTime            @updatedAt @map("updated_at")
  isVisible          Boolean             @default(true) @map("is_visible")
  displayOrder       Int                 @default(0) @map("display_order")
  category           String?
  demoUrl            String?             @map("demo_url")
  difficulty         String?
  featured           Boolean             @default(false)
  githubUrl          String?             @map("github_url")
  liveUrl            String?             @map("live_url")
  longDescription    String?             @map("long_description")
  projectEndDate     DateTime?           @map("project_end_date")
  projectStartDate   DateTime?           @map("project_start_date")
  projectType        String?             @map("project_type")
  status             String              @default("completed")
  lastScreenshotAt   DateTime?           @map("last_screenshot_at")
  manualUrls         String[]            @default([]) @map("manual_urls")
  screenshotMetadata Json?               @map("screenshot_metadata")
  screenshotStrategy String?             @map("screenshot_strategy")
  imageUrls          String[]            @default([]) @map("image_urls")
  techStack          String[]            @default([]) @map("tech_stack")
  technologies       ProjectTechnology[]

  @@map("projects")
}

model ProjectTechnology {
  id         String  @id @default(uuid())
  projectId  String  @map("project_id")
  technology String
  category   String?
  level      String?
  project    Project @relation(fields: [projectId], references: [id], onDelete: Cascade)

  @@map("project_technologies")
}
